<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="gSMaswRY9iRfG4QaQrx6aj481bgr503qEZh-QPsMYNU" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="元経済学徒, 現在どっかでデータサイエンティストもどきやってる人間の勉強日記">
    <meta name="keywords"  content="Statistics, Economics, Econometrics, Python, C, Shell, Linux, Data scientist">
    <meta name="theme-color" content="#000000">
    
    <!-- Open Graph -->
    <meta property="og:title" content="ユークリッドの互除法とジェネラティブアート - Ryo's Tech Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="
  
    
       
      概要
    
  
  
    
      目的
      Processingでユークリッドの互除法の可視化
    
    
      参考
      - ユークリッドの互除法の証明と不定方程式- 一次不定方程式ax+by=cの整数解- 数学から創るジェネラティブアート―Processingで学ぶかたちのデザイン
    
  


">
    
    <meta property="article:published_time" content="2021-04-08T00:00:00Z">
    
    
    <meta property="article:author" content="Ryo">
    
    
    <meta property="article:tag" content="Processing">
    
    <meta property="article:tag" content="math">
    
    
    <meta property="og:image" content="https://ryonakagami.github.io/img/avatar_rio_cat.jpg">
    <meta property="og:url" content="https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/">
    <meta property="og:site_name" content="Ryo's Tech Blog">
    
    <title>ユークリッドの互除法とジェネラティブアート - Ryo's Tech Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/ryo-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- https://stackoverflow.com/questions/45983301/google-pagespeed-eliminate-render-blocking-resources-above-the-fold-caused-fro -->
    <!--link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"-->
    <!--<link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="stylesheet" type="text/css" media="print" onload="this.media='all'" > -->
    <link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="preload" type="text/css" media="print" onload="this.media='all'" >


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">
    
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Ryo's Tech Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-left">
                                                <li>
                            <a href="https://ryonakagami.github.io/statistics-for-regression-monkey/">Statistics for
                                Regression Monkeys</a>
                        </li>
                        <li>
                            <a href="https://ohgoshgit.github.io/">OhGoshGit!?!</a>
                        </li>
                        <!-- <li>
                            <a><button onclick="mainDropDown()" style="border-color: rgba(70, 83, 111, 0.989); background-color: rgba(70, 83, 111, 0.989)">Dropdown</button></a> 
                            <div id="myDropdown" class="dropdown-content">
                              <a href="#" onclick="subMenu(this)">A</a>
                              <div class="sub-menu-item" id="subMenu1">
                              <a href="#">A.1</a>
                              </div>
                              <a href="#" onclick="subMenu(this)">B</a>
                              <div class="sub-menu-item" id="subMenu2">
                              <a href="#">B.1</a>
                              </div>
                              <a href="#">C</a>
                              <a href="#">D</a>
                              <a href="#">E</a>
                              <a href="#">F</a>
                              <a href="#">G</a>
                            </div>
                        </li> -->
                    </ul>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Tag Search</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!--about fa-search see https://stackoverflow.com/questions/41950677/how-to-make-my-search-icon-fixed-->
                        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
                            rel="stylesheet" />
                        <li class="search-icon">
                            <a href="javascript:void(0)" aria-label="Search" target="_blank">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>

    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg');
        background: ;
    }

    
    header.intro-header .header-mask{
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, 0.0);
    }
    
</style>




<header class="intro-header style-text" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=Processing" title="Processing">Processing</a>
                        
                        <a class="tag" href="/archive/?tag=math" title="math">math</a>
                        
                    </div>
                    <h1>ユークリッドの互除法とジェネラティブアート</h1>
                    
                    <h2 class="subheading">Processingでユークリッドの互除法の可視化</h2>
                    <p>
                        公開日: 2021-04-08
                        
                        
                    </p>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
         <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<table>
  <thead>
    <tr>
      <th> </th>
      <th>概要</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>目的</td>
      <td>Processingでユークリッドの互除法の可視化</td>
    </tr>
    <tr>
      <td>参考</td>
      <td>- <a href="https://manabitimes.jp/math/672">ユークリッドの互除法の証明と不定方程式</a><br />- <a href="https://manabitimes.jp/math/674">一次不定方程式ax+by=cの整数解</a><br />- <a href="https://gihyo.jp/book/2019/978-4-297-10463-4">数学から創るジェネラティブアート―Processingで学ぶかたちのデザイン</a></td>
    </tr>
  </tbody>
</table>

<!-- START doctoc generated TOC please keep comment here to allow auto update -->
<!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

<ul>
  <li><a href="#1-%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95%E3%81%A8%E3%81%AF">1. ユークリッド互除法とは？</a>
    <ul>
      <li><a href="#%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95">ユークリッド互除法</a></li>
      <li><a href="#%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95%E3%81%AE%E5%AE%9F%E8%A3%85">ユークリッド互除法の実装</a></li>
      <li><a href="#%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E3%81%AE%E4%BA%92%E9%99%A4%E6%B3%95%E3%81%AE%E8%A8%BC%E6%98%8E">ユークリッドの互除法の証明</a></li>
    </ul>
  </li>
  <li><a href="#2-%E6%8B%A1%E5%BC%B5%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95">2. 拡張ユークリッド互除法</a>
    <ul>
      <li><a href="#%E4%B8%8D%E5%AE%9A%E6%96%B9%E7%A8%8B%E5%BC%8F%E3%81%AE%E5%AE%9A%E7%90%86">不定方程式の定理</a>
        <ul>
          <li><a href="#%E8%A8%BC%E6%98%8E">証明</a></li>
        </ul>
      </li>
      <li><a href="#%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95%E3%81%AE%E4%B8%80%E6%AC%A1%E4%B8%8D%E5%AE%9A%E6%96%B9%E7%A8%8B%E5%BC%8F%E3%81%B8%E3%81%AE%E5%BF%9C%E7%94%A8">ユークリッド互除法の一次不定方程式への応用</a></li>
    </ul>
  </li>
  <li><a href="#3-processing%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95%E3%81%AE%E5%8F%AF%E8%A6%96%E5%8C%96">3. Processingを用いたユークリッド互除法の可視化</a>
    <ul>
      <li><a href="#%E3%83%A6%E3%83%BC%E3%82%AF%E3%83%AA%E3%83%83%E3%83%89%E4%BA%92%E9%99%A4%E6%B3%95%E3%82%92%E7%94%A8%E3%81%84%E3%81%9F%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AE%E5%88%86%E5%89%B2">ユークリッド互除法を用いた長方形の分割</a>
        <ul>
          <li><a href="#%E8%89%B2%E3%82%92%E3%81%A4%E3%81%91%E3%82%8B%E5%A0%B4%E5%90%88">色をつける場合</a></li>
        </ul>
      </li>
      <li><a href="#%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AB%E3%82%88%E3%82%8B%E6%AD%A3%E6%96%B9%E5%BD%A2%E3%81%AE%E5%88%86%E5%89%B2">長方形による正方形の分割</a></li>
      <li><a href="#%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AB%E3%82%88%E3%82%8B%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AE%E5%88%86%E5%89%B2">長方形による長方形の分割</a></li>
    </ul>
  </li>
  <li><a href="#4-%E5%86%8D%E5%B8%B0%E7%9A%84%E5%88%86%E5%89%B2">4. 再帰的分割</a>
    <ul>
      <li><a href="#%E9%95%B7%E6%96%B9%E5%BD%A2%E3%82%92%E6%AD%A3%E6%96%B9%E5%BD%A2%E3%81%AB%E5%88%86%E5%89%B2%E3%81%97%E3%81%A6%E5%86%8D%E5%BA%A6%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AB%E5%88%86%E5%89%B2%E3%81%99%E3%82%8B">長方形を正方形に分割して再度長方形に分割する</a></li>
      <li><a href="#%E6%AD%A3%E6%96%B9%E5%BD%A2%E3%81%AE%E5%86%8D%E5%B8%B0%E7%9A%84%E5%88%86%E5%89%B2">正方形の再帰的分割</a></li>
      <li><a href="#gui%E3%81%A7%E3%83%91%E3%83%A9%E3%83%A1%E3%83%BC%E3%82%BF%E3%83%BC%E8%AA%BF%E6%95%B4">GUIでパラメーター調整</a></li>
      <li><a href="#%E5%88%86%E5%89%B2%E6%99%82%E3%81%AEx%E8%BB%B8%E3%81%AB%E5%9F%BA%E3%81%A5%E3%81%84%E3%81%9F%E8%89%B2%E7%9B%B8%E5%88%86%E9%A1%9E">分割時のx軸に基づいた色相分類</a></li>
    </ul>
  </li>
  <li><a href="#appendix-processing%E3%81%AB%E3%82%88%E3%82%8B%E8%89%B2%E3%81%AE%E6%8C%87%E5%AE%9A">Appendix: Processingによる色の指定</a>
    <ul>
      <li><a href="#hsb%E8%89%B2%E7%A9%BA%E9%96%93">HSB色空間</a></li>
      <li><a href="#processing-%E3%81%AB%E3%81%8A%E3%81%91%E3%82%8B%E8%89%B2%E3%81%AE%E6%8C%87%E5%AE%9A">Processing における色の指定</a></li>
    </ul>
  </li>
</ul>

<!-- END doctoc generated TOC please keep comment here to allow auto update -->

<h2 id="1-ユークリッド互除法とは">1. ユークリッド互除法とは？</h2>

<p>ユークリッド互除法は与えられた２つの自然数に対し、その最大公約数を求めるアルゴリズムです。</p>

<h3 id="ユークリッド互除法">ユークリッド互除法</h3>

<p>2つの自然数 \(x_0, x_1\) に対して、最大公約数は次の手順により求めることができる。</p>

<ul>
  <li>1: \(x_0\) を \(x_1\) で割り、その余りを \(x_2\)とする</li>
  <li>2: \(x_1\) を \(x_2\) で割り、その余りを \(x_3\)とする</li>
  <li>3: \(x_2\) を \(x_3\) で割り、その余りを \(x_4\)とする</li>
  <li>この操作を割り切れるまで繰り替えす</li>
  <li>n: \(x_{n-1}\) を \(x_n\) で割りきれた。このとき、\(x_n\)が最大公約数である。</li>
</ul>

<h3 id="ユークリッド互除法の実装">ユークリッド互除法の実装</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">gcd</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="s">"""Calculate the greatest common divisor of a and b"""</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="nb">int</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"At least one of the inputs is not integer"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">None</span>

    <span class="k">while</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">a</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">b</span><span class="p">,</span> <span class="n">a</span> <span class="o">%</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">a</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="ユークリッドの互除法の証明">ユークリッドの互除法の証明</h3>

<p>a を b で割った商を q，余りを r とおくと，</p>

\[a = bq + r\]

<p>このとき、</p>

\[gcd(b, r) \geq gcd(a, b) \text{ and } gcd(a, b) \geq gcd(b, r)\]

<p>が証明できれば、</p>

\[gcd(a, b) = gcd(b, r)\]

<p>となります。</p>

<p>(1) \(gcd(b, r) \geq gcd(a, b)\) について、</p>

<p>\(a\) と \(b\) は \(gcd(a,b)\) の倍数なので，</p>

\[r=bq−a\]

<p>も \(gcd(a,b)\) の倍数になる。よって，\(gcd(a,b)\) は \(b\) と \(r\) の公約数。最大公約数は公約数の中で最大のものなので，</p>

\[gcd(b, r) \geq gcd(a, b)\]

<p>(2) \(gcd(a, b) \geq gcd(b, r)\)について、</p>

<p>\(b\) と \(r\) は \(gcd(b,r)\) の倍数なので，</p>

\[a=bq+r\]

<p>も \(gcd(b,r)\) の倍数になる。よって，\(gcd(b,r)\) は \(a\) と \(b\) の公約数。最大公約数は公約数の中で最大のものなので，</p>

\[gcd(a, b) \geq gcd(b, r)\]

<p>割り算を繰り返し行うと，余りの定義より \(b&gt;r\) なので数字はどんどん小さくなっていきます。そして，最後は必ず余りが 0 になって停止します。そのときの割った数が，求めたい最大公約数になっています。</p>

<h2 id="2-拡張ユークリッド互除法">2. 拡張ユークリッド互除法</h2>

<p>不定方程式とは，</p>

\[3x+5y=23\]

<p>のように，方程式の数よりも未知変数の数が多いような方程式のことです。拡張ユークリッド互除法は二元一次不定方程式の整数解を求めるアルゴリズムです。</p>

<h3 id="不定方程式の定理">不定方程式の定理</h3>

<p>\(x, y\) に関する二元一次不定方程式 \(ax+by=c\)が整数解を持つ
\(\iff\)c は \(gcd(a,b)\) の倍数</p>

<h4 id="証明">証明</h4>

<p>(1) ⇒を証明します。</p>

<p>\(a, b\) は \(gcd(a,b)\) の倍数なので, 整数解 \(m, n\)にたいして \(c\)も\(gcd(a, b)\)の倍数。</p>

<p>(2) ⇐ を証明します。</p>

\[a=p\cdot gcd(a,b) , b=q\cdot gcd(a,b)\]

<p>とおきます（ただし、\(p, q\)は互いに素）。</p>

<p>\(p\) と \(q\) が互いに素なとき \(p,2p,3p, \cdots ,(q−1)p\)を \(q\) で割った余りは全て異なるので，余りが1となるようなものが存在する。それを$\alpha p$とおき、\(q\)で割ったときの商を\(\beta\)とおくと、</p>

\[\alpha p = q\beta + 1\]

<p>よって、\(p\cdot m + q\cdot n =1\) は整数解を持つので両辺を\(gcd(a,b)\) 倍して，</p>

\[am+bn=gcd(a,b)\]

<p>も整数解を持つことがわかる。</p>

<h3 id="ユークリッド互除法の一次不定方程式への応用">ユークリッド互除法の一次不定方程式への応用</h3>

\[8x+11y=1\]

<p>を満たす整数 \((x,y)\)を求めたいとします。</p>

<p>まず、\((11, 8)\)にユークリッド互除法を適用します。</p>

\[\begin{aligned}
11&amp;=8 \cdot 1+3\\
8&amp;=3\cdot 2+2\\
3&amp; =2\cdot 1+1
\end{aligned}\]

<p>これをさかのぼっていく（余りの部分を順々に代入していく）。</p>

\[\begin{aligned}
1&amp;=3−2\cdot 1\\
&amp;=3−(8−3\cdot 2)\cdot 1\\
&amp;=3\cdot 3+8\cdot (−1)\\
&amp;=(11−8\cdot 1)\cdot 3−8\\
&amp;=8\cdot (−4)+11\cdot 3
\end{aligned}\]

<p>つまり，\((−4,3)\)が解の1つ。</p>

<p>次に一般解を求めます。</p>

\[8x+11y=8\cdot(-4)+11\cdot 3=1\]

<p>より</p>

\[8(x+4) + 11(y-3) = 0\]

<p>が成り立ちます。このとき、(8, 11)は互いに素なので、</p>

\[\begin{aligned}
x + 4 &amp; = 11m\\
y - 3 &amp; = -8m
\end{aligned}\]

<p>が成り立ちます。よって、</p>

\[(x, y) = (11m - 4, 3 - 8m)\]

<h2 id="3-processingを用いたユークリッド互除法の可視化">3. Processingを用いたユークリッド互除法の可視化</h2>

<p>ユークリッド互除法の図形的意味をまず考えます。以下の条件の長方形を考えます</p>

<ul>
  <li>横と縦の長さがそれぞれ \(a, b\)</li>
  <li>\(a, b\)はそれぞれ自然数</li>
</ul>

<p>\(a \div b = c \cdots d\)の図形的意味は「この長方形から一辺の長さ\(b\)の正方形を\(c\)個、余りとして辺の長さ\(b, d\)の長方形ができる」となります。</p>

<h3 id="ユークリッド互除法を用いた長方形の分割">ユークリッド互除法を用いた長方形の分割</h3>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
</pre></td><td class="rouge-code"><pre><span class="c1">// 横:縦の比率 = num_A: num_B</span>
<span class="kt">int</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">scalar</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//長方形の拡大倍率</span>

<span class="n">num_A</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="n">num_B</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>

<span class="c1">// Parameters</span>
<span class="kt">int</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span><span class="p">;</span> 
<span class="kt">int</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">//描画</span>
<span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span> <span class="c1">//windowサイズ</span>

<span class="c1">//ユークリッド互除法と長方形の分割</span>
<span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
    <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_A</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整 </span>
            <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_A</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_B</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span>
            <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_rectangular.png"</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>このコードを実行すると以下の結果が得られます。</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_rectangular.png?raw=true" /></p>

<h4 id="色をつける場合">色をつける場合</h4>

<p><code class="language-plaintext highlighter-rouge">colorMode()</code>で色を表示するための形式を指定します。RGB形式が一般的ですが、色明るさ彩度を保ったまま色を変えるにはHSB形式が扱いやすいので今回はHSB形式でいきます。</p>

<ul>
  <li>H: 色相</li>
  <li>S: 彩度</li>
  <li>B: 明るさ</li>
</ul>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="c1">// 横:縦の比率 = num_A: num_B</span>
<span class="kt">int</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">scalar</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//長方形の拡大倍率</span>

<span class="n">num_A</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="n">num_B</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>

<span class="c1">// Parameters</span>
<span class="kt">int</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span><span class="p">;</span> 
<span class="kt">int</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">//描画</span>
<span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
<span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">//ユークリッド互除法と長方形の分割</span>
<span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
    <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_A</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整 </span>
            <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_A</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_B</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span>
            <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_rectangular_with_color.png"</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>
<p>このコードを実行すると以下の結果が得られます。</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_rectangular_with_color.png?raw=true" /></p>

<h3 id="長方形による正方形の分割">長方形による正方形の分割</h3>

<p>つぎに正方形を横縦比 \(b:a\)となる長方形で分割したいとする。下の例だと、横縦比\(10:6\)の長方形を正方形に分割したあとに、横幅を0.6倍すると横縦比\(6:10\)の長方形で正方形を分割することができます。</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/euclidean_square.png?raw=true" /></p>

<p>正方形を横縦比 \(b:a\)となる長方形で分割したいので、</p>

\[\text{横}:\text{縦} = b : a = r : 1 = 1 : \frac{1}{r}\]

<p>この比率を活用して、x軸で進む場合は\(r\)を掛けた<code class="language-plaintext highlighter-rouge">width</code>で長方形を増やしていき、y軸で進む場合は\(1/r\)を掛けた<code class="language-plaintext highlighter-rouge">width</code>で増やしていけば良いことがわかる。これを実装すると、</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="c1">// オリジナル長方形の横:縦の比率 = num_A: num_B</span>
<span class="c1">// 想定している正方形の辺の長さ = num_B</span>
<span class="kt">int</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">17</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_B</span><span class="o">/</span><span class="n">num_A</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">scalar</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//長方形の拡大倍率</span>

<span class="n">num_B</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="n">num_A</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_C</span> <span class="o">=</span> <span class="n">min</span><span class="p">((</span><span class="kt">float</span><span class="p">)</span><span class="n">num_A</span><span class="p">,</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span><span class="n">num_B</span><span class="p">);</span>


<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">num_C</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//変更点</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//変更点</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">//描画</span>
<span class="n">size</span><span class="p">(</span><span class="mi">490</span><span class="p">,</span> <span class="mi">490</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
<span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">//ユークリッド互除法と長方形の分割</span>
<span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="mf">0.01</span><span class="p">){</span>
    <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_C</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整 </span>
            <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_C</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_C</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
            <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_C</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_square_with_color.png"</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>実行結果は以下、</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_square_with_color.png?raw=true" /></p>

<h3 id="長方形による長方形の分割">長方形による長方形の分割</h3>

<p><a href="#%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AB%E3%82%88%E3%82%8B%E6%AD%A3%E6%96%B9%E5%BD%A2%E3%81%AE%E5%88%86%E5%89%B2">長方形による正方形の分割</a>を応用します。</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
</pre></td><td class="rouge-code"><pre><span class="c1">// オリジナル長方形の横:縦の比率 = num_A: num_B</span>

<span class="kt">float</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_B</span><span class="o">/</span><span class="n">num_A</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">scalar</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//長方形の拡大倍率</span>

<span class="n">num_B</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="n">num_A</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_C</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">num_A</span><span class="p">,</span> <span class="n">num_B</span><span class="p">);</span>


<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">num_C</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//変更点</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//変更点</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="c1">//描画</span>
<span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
<span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

<span class="c1">//ユークリッド互除法と長方形の分割</span>
<span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="mf">0.01</span><span class="p">){</span>
    <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_A</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整 </span>
            <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_A</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_B</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
            <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
            <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">y_pos</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
            <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_rectangular_div_rect_with_color.png"</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>実行結果は以下、</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_rectangular_div_rect_with_color.png?raw=true" /></p>

<h2 id="4-再帰的分割">4. 再帰的分割</h2>

<p>ここでは長方形を長方形で分割することを考えます。上で考えた<a href="#%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AB%E3%82%88%E3%82%8B%E9%95%B7%E6%96%B9%E5%BD%A2%E3%81%AE%E5%88%86%E5%89%B2">長方形による長方形の分割</a>と異なる点は、</p>

<ol>
  <li>長方形を正方形で分割する</li>
  <li>分割した結果生まれた正方形を再度長方形で分割する</li>
  <li>工程1, 工程2を指定した回数繰り返す</li>
</ol>

<p>という分割を考えます。</p>

<h3 id="長方形を正方形に分割して再度長方形に分割する">長方形を正方形に分割して再度長方形に分割する</h3>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre></td><td class="rouge-code"><pre><span class="c1">// オリジナル長方形の横:縦の比率 = num_A: num_B</span>

<span class="kt">float</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_B</span><span class="o">/</span><span class="n">num_A</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">scalar</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span> <span class="c1">//長方形の拡大倍率</span>


<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span><span class="o">*</span><span class="n">scalar</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span><span class="c1">//いわゆるmain関数</span>
    <span class="n">num_B</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
    <span class="n">num_A</span> <span class="o">*=</span> <span class="n">scalar</span><span class="p">;</span>
    <span class="c1">//描画</span>
    <span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">250</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
    <span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    
    <span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_A</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">div_square</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">num_A</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span> <span class="o">&lt;=</span> <span class="n">num_B</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span>
                <span class="n">div_square</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">num_B</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">div_square</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">wd</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">num_A</span> <span class="o">=</span> <span class="n">wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">num_B</span> <span class="o">=</span> <span class="n">wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">wd</span><span class="p">;</span>

    <span class="c1">//正方形の分割</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd_sq</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_A</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span> <span class="c1">//作画位置の調整 </span>
                <span class="n">x_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">num_A</span> <span class="o">-</span> <span class="n">x_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">num_B</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
                <span class="n">y_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">num_B</span> <span class="o">-</span> <span class="n">y_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>実行結果は以下、</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_recursive_rectangular.png?raw=true" /></p>

<h3 id="正方形の再帰的分割">正方形の再帰的分割</h3>

<p>正方形を長方形に分割し、それを再度正方形に分割し、分割後の辺の長さが基準値以上に限って再帰的に分割を続けるプログラムを書きます。</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
</pre></td><td class="rouge-code"><pre><span class="c1">// オリジナル長方形の横:縦の比率 = num_A: num_B</span>

<span class="kt">float</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_B</span><span class="o">/</span><span class="n">num_A</span><span class="p">;</span>


<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">thr</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span><span class="c1">//いわゆるmain関数</span>
    <span class="c1">//描画</span>
    <span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">410</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
    <span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">width</span> <span class="o">-</span> <span class="mi">10</span><span class="p">;</span>

    <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
    
    <span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_recursive_rectangular_2_with_color.png"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">divSquare</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">wd</span><span class="p">){</span> <span class="c1">//正方形の分割    </span>
    <span class="kt">float</span> <span class="n">x_end_pos</span> <span class="o">=</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end_pos</span> <span class="o">=</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">x_end_pos</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">x_end_pos</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">y_end_pos</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">y_end_pos</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">div_rect</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x_wd</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_wd</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_end</span> <span class="o">=</span> <span class="n">x_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>

    <span class="c1">//正方形の分割</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd_sq</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">x_end</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">x_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">x_end</span> <span class="o">-</span> <span class="n">x_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">y_end</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">y_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_end</span> <span class="o">-</span> <span class="n">y_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>実行結果は以下、</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_recursive_rectangular_2_with_color.png?raw=true" /></p>

<h3 id="guiでパラメーター調整">GUIでパラメーター調整</h3>

<p>以下のプログラムを動かすためには、<code class="language-plaintext highlighter-rouge">controlP5</code>ライブラリを読み込む必要があります。</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
</pre></td><td class="rouge-code"><pre><span class="c1">// オリジナル長方形の横:縦の比率 = num_A: num_B</span>

<span class="n">import</span> <span class="n">controlP5</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>  <span class="c1">//ControlP5ライブラリを読み込み</span>
<span class="n">import</span> <span class="n">processing</span><span class="p">.</span><span class="n">pdf</span><span class="p">.</span><span class="o">*</span><span class="p">;</span>  <span class="c1">//ControlP5クラスの変数を宣言</span>
<span class="n">ControlP5</span> <span class="n">cp5</span><span class="p">;</span>

<span class="kt">float</span> <span class="n">num_x</span><span class="p">,</span> <span class="n">num_y</span><span class="p">;</span>
<span class="n">boolean</span> <span class="n">rec</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>  <span class="c1">//画像保存のための論理型変数</span>
<span class="kt">int</span> <span class="n">count</span><span class="p">;</span>  <span class="c1">//描画した長方形の個数を記録する変数</span>
<span class="kt">float</span> <span class="n">ratio</span><span class="p">,</span> <span class="n">thr</span><span class="p">;</span>

<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>


<span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span><span class="c1">//いわゆるmain関数</span>
    <span class="c1">//描画</span>
    <span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">410</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
    <span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    
    <span class="n">controller</span><span class="p">();</span>  <span class="c1">//cp5のコントローラを呼び出し</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">draw</span><span class="p">(){</span>
  <span class="n">background</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="c1">//frameRate(10);</span>
  
  <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_y</span> <span class="o">/</span> <span class="n">num_x</span><span class="p">;</span>
  <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">width</span> <span class="o">-</span> <span class="mi">10</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">ratio</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">){</span>  <span class="c1">//numAとnumBが異なるとき実行</span>
    <span class="n">randomSeed</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
    <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
  <span class="p">}</span>
  <span class="k">if</span><span class="p">(</span><span class="n">rec</span><span class="p">){</span>
    <span class="n">String</span> <span class="n">namePNG</span> <span class="o">=</span> <span class="s">"gui_recursive_rectangular_"</span> <span class="o">+</span> <span class="n">str</span><span class="p">(</span><span class="n">num_x</span><span class="p">)</span> <span class="o">+</span> <span class="s">"_"</span> <span class="o">+</span> <span class="n">str</span><span class="p">(</span><span class="n">num_y</span><span class="p">)</span> <span class="o">+</span> <span class="s">"_"</span> <span class="o">+</span> <span class="n">str</span><span class="p">(</span><span class="kt">int</span><span class="p">(</span><span class="n">thr</span><span class="p">))</span> <span class="o">+</span> <span class="s">".png"</span><span class="p">;</span>  <span class="c1">//PNGの保存ファイル名</span>
    <span class="n">save</span><span class="p">(</span><span class="n">namePNG</span><span class="p">);</span>
    <span class="n">rec</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//グローバル変数をコントローラで操作する</span>
<span class="kt">void</span> <span class="n">controller</span><span class="p">(){</span>
  <span class="n">cp5</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ControlP5</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>  <span class="c1">//コントローラを生成</span>
  <span class="n">cp5</span><span class="p">.</span><span class="n">addSlider</span><span class="p">(</span><span class="s">"num_x"</span><span class="p">)</span>  <span class="c1">//numAの値を動かすスライダー</span>
    <span class="p">.</span><span class="n">setPosition</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>  <span class="c1">//スライダーの位置</span>
    <span class="p">.</span><span class="n">setSize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>  <span class="c1">//スライダーのサイズ</span>
    <span class="p">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>  <span class="c1">//最小値と最大値</span>
    <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>  <span class="c1">//初期値</span>
    <span class="p">.</span><span class="n">setColorCaptionLabel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>  <span class="c1">//スライダーの文字の色</span>
    <span class="p">;</span>
  <span class="n">cp5</span><span class="p">.</span><span class="n">addSlider</span><span class="p">(</span><span class="s">"num_y"</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setPosition</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">50</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setSize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">40</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setColorCaptionLabel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">;</span>
  <span class="n">cp5</span><span class="p">.</span><span class="n">addSlider</span><span class="p">(</span><span class="s">"thr"</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setPosition</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">90</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setSize</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">20</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setRange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setNumberOfTickMarks</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setValue</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setColorCaptionLabel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">;</span>
  <span class="n">cp5</span><span class="p">.</span><span class="n">addBang</span><span class="p">(</span><span class="s">"rec"</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setPosition</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">130</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setSize</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
    <span class="p">.</span><span class="n">setColorCaptionLabel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">divSquare</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">wd</span><span class="p">){</span> <span class="c1">//正方形の分割   </span>
    <span class="kt">float</span> <span class="n">x_end_pos</span> <span class="o">=</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end_pos</span> <span class="o">=</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">x_end_pos</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に長方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">x_end_pos</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">y_end_pos</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に長方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="n">random</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">y_end_pos</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">div_rect</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x_wd</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_wd</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_end</span> <span class="o">=</span> <span class="n">x_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>

    <span class="c1">//正方形の分割</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd_sq</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">x_end</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">x_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">x_end</span> <span class="o">-</span> <span class="n">x_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">y_end</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">y_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_end</span> <span class="o">-</span> <span class="n">y_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="分割時のx軸に基づいた色相分類">分割時のx軸に基づいた色相分類</h3>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
</pre></td><td class="rouge-code"><pre><span class="kt">float</span> <span class="n">num_A</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">num_B</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">ratio</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">num_B</span><span class="o">/</span><span class="n">num_A</span><span class="p">;</span>


<span class="c1">// Parameters</span>
<span class="kt">float</span> <span class="n">x_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">y_pos</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">thr</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">setup</span><span class="p">(){</span><span class="c1">//いわゆるmain関数</span>
    <span class="c1">//描画</span>
    <span class="n">size</span><span class="p">(</span><span class="mi">410</span><span class="p">,</span> <span class="mi">410</span><span class="p">);</span> <span class="c1">//windowサイズ</span>
    <span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">wd</span> <span class="o">=</span> <span class="n">width</span> <span class="o">-</span> <span class="mi">10</span><span class="p">;</span>

    <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
    
    <span class="n">save</span><span class="p">(</span><span class="s">"Euclidean_recursive_rectangular_3_with_color.png"</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="n">divSquare</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">wd</span><span class="p">){</span> <span class="c1">//正方形の分割    </span>
    <span class="kt">float</span> <span class="n">x_end_pos</span> <span class="o">=</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end_pos</span> <span class="o">=</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">x_end_pos</span><span class="p">){</span> <span class="c1">//奇数回目はx軸方向に長方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x_pos</span><span class="o">/</span><span class="p">(</span><span class="n">width</span><span class="o">+</span><span class="n">x_pos</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">,</span> <span class="n">wd</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">x_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">*</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">x_end_pos</span> <span class="o">-</span> <span class="n">x_pos</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">y_pos</span> <span class="o">+</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span> <span class="o">&lt;=</span> <span class="n">y_end_pos</span><span class="p">){</span> <span class="c1">//偶数回目はy軸方向に長方形を増やす</span>
                <span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x_pos</span><span class="o">/</span><span class="p">(</span><span class="n">width</span><span class="o">+</span><span class="n">x_pos</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">));</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span>
                <span class="n">div_rect</span><span class="p">(</span><span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd</span><span class="p">,</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">);</span> <span class="c1">//正方形の分割</span>
                <span class="n">y_pos</span> <span class="o">+=</span> <span class="n">wd</span><span class="o">/</span><span class="n">ratio</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd</span> <span class="o">=</span> <span class="n">y_end_pos</span> <span class="o">-</span> <span class="n">y_pos</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">div_rect</span><span class="p">(</span><span class="kt">float</span> <span class="n">x_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_pos</span><span class="p">,</span> <span class="kt">float</span> <span class="n">x_wd</span><span class="p">,</span> <span class="kt">float</span> <span class="n">y_wd</span><span class="p">){</span>
    <span class="kt">int</span> <span class="n">itr</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_pos_sq</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">x_end</span> <span class="o">=</span> <span class="n">x_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">y_end</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_wd</span><span class="p">;</span>

    <span class="c1">//正方形の分割</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">wd_sq</span> <span class="o">&gt;</span> <span class="n">thr</span><span class="p">){</span>
        <span class="n">itr</span><span class="o">++</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">itr</span> <span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">x_end</span><span class="p">)){</span> <span class="c1">//奇数回目はx軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="o">+</span><span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span> <span class="c1">//作画位置の調整</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">x_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">x_end</span> <span class="o">-</span> <span class="n">x_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="k">while</span> <span class="p">((</span><span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">wd_sq</span> <span class="o">&lt;=</span> <span class="n">y_end</span><span class="p">)){</span> <span class="c1">//偶数回目はy軸方向に正方形を増やす</span>
                <span class="n">rect</span><span class="p">(</span><span class="n">x_pos_sq</span> <span class="o">+</span> <span class="n">x_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span> <span class="o">+</span> <span class="mf">5.0</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">divSquare</span><span class="p">(</span><span class="n">x_pos_sq</span><span class="o">+</span> <span class="n">x_pos</span><span class="p">,</span> <span class="n">y_pos_sq</span> <span class="o">+</span> <span class="n">y_pos</span><span class="p">,</span> <span class="n">wd_sq</span><span class="p">);</span>
                <span class="n">y_pos_sq</span> <span class="o">+=</span> <span class="n">wd_sq</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="n">wd_sq</span> <span class="o">=</span> <span class="n">y_end</span> <span class="o">-</span> <span class="n">y_pos_sq</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>実行結果は以下、</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/Euclidean_recursive_rectangular_3_with_color.png?raw=true" /></p>

<h2 id="appendix-processingによる色の指定">Appendix: Processingによる色の指定</h2>
<h3 id="hsb色空間">HSB色空間</h3>

<p>色の三属性である色相(Hue)，彩度(Saturation・Chroma)，明度(Brightness・Value)で色を指定する色空間で，HSV色空間とも呼ばれます．RGB 表現が色の科学的な現象を元に指定するものであることに比べ，色の種類（色相）と鮮やかさと明るさという人間の感覚的な指標で指定ができるため，デザイナには好まれて使われます．</p>

<p>HSB 色空間における色相は，0°～360° の値を持ち，0 は赤，120 が緑，240 が青と定められています．HSV 色空間に限らず，色相を円状に配置したものを色相環と呼びますが，HSB色空間における色相環は次のようになります．</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/hsb.jpg?raw=true" /></p>

<p>HSB色空間における明度は 0～100% で色の明るさを表し，各色相においてもっとも明るい色で 100% の値をとります．彩度も 0～100% の値をとり，この値が小さくなるほど色が褪せていきます．明度が小さい場合，彩度を変化させても色はあまり変わりません．色相が 0° のときの彩度と明度の組み合わせを表した図を下に示します．横軸が彩度で左端が 0% で右端が 100%，縦軸が明度で上端が 0% で下端が 100% です．</p>

<p><img src="https://github.com/ryonakimageserver/omorikaizuka/blob/master/processing/hsb_sb.jpg?raw=true" /></p>

<h3 id="processing-における色の指定">Processing における色の指定</h3>

<p>Processing では，RGB 色空間と HSB 色空間を利用することができます．RGB 色空間を使いたい場合は RGB を，HSB 色空間を使いたい場合は HSB をパラメータとして colorMode メソッドを呼び出します．</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="n">colorMode</span><span class="p">(</span> <span class="n">RGB</span> <span class="p">);</span>
<span class="n">colorMode</span><span class="p">(</span> <span class="n">HSB</span> <span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>また，RGB においては赤，緑，青の度合，HSB においては色相，彩度，明度を，どのような範囲の数値で指定するかを設定することもできます．</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">colorMode</span><span class="p">(</span><span class="n">HSB</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>とすれば、HSBのそれぞれの度合を 0～1 の値で設定できます．</p>

<div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="n">colorMode</span><span class="p">(</span> <span class="n">HSB</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span> <span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>とすれば，実際は0～359°の色相を 0～99，0～100%の彩度と明度を 0～10 で設定できるようになります．</p>


                <hr style="visibility: hidden;">
                <hr/>
                <b><fontsize="5">Share Buttons</font><br></b>
                <!--see 
    https://jekyllcodex.org/without-plugin/share-buttons/ 
    https://ranvir.xyz/blog/why-and-how-to-add-social-sharing-buttons-on-your-jekyll-blog-using-github-pages/
-->



<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span style="color: black">Share on: </span><div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="gtag('event', 'Facebook', {'event_category':'Post Shared','event_label':'Facebook'}); location.href='http://www.facebook.com/share.php?u=https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="gtag('event', 'Twitter', {'event_category':'Post Shared','event_label':'Twitter'}); location.href='https://twitter.com/intent/tweet?text=ユークリッドの互除法とジェネラティブアート&url=https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="gtag('event', 'Linkedin', {'event_category':'Post Shared','event_label':'Linkedin'}); location.href='https://www.linkedin.com/shareArticle?mini=true&url=https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/&title=&summary=&source=';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    
    <div class="mail" title="Share this through Email" onclick="gtag('event', 'Email', {'event_category':'Post Shared','event_label':'Email'}); location.href='mailto:?&body=https://ryonakagami.github.io/2021/04/08/Euclidean-Algorithm/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>

                
                <hr/>

                <!-- Featured Tags -->
                <b><fontsize="5">Feature Tags</b>
                    <div id="tag_cloud" class="tags tags-sup js-tags" 
                    style="line-height: 0px !important;">
                        
                        
                        
                        
                        
                                <a data-sort="0288" 
                                    href="/archive/?tag=%E7%B5%B1%E8%A8%88"
                                    title="統計"
                                    style="color: #337ab7 !important;"
                                    rel="61">統計</a>
                        
                                <a data-sort="0298" 
                                    href="/archive/?tag=Python"
                                    title="Python"
                                    style="color: #337ab7 !important;"
                                    rel="51">Python</a>
                        
                                <a data-sort="0300" 
                                    href="/archive/?tag=math"
                                    title="math"
                                    style="color: #337ab7 !important;"
                                    rel="49">math</a>
                        
                                <a data-sort="0303" 
                                    href="/archive/?tag=Linux"
                                    title="Linux"
                                    style="color: #337ab7 !important;"
                                    rel="46">Linux</a>
                        
                                <a data-sort="0316" 
                                    href="/archive/?tag=Ubuntu+20.04+LTS"
                                    title="Ubuntu 20.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="33">Ubuntu 20.04 LTS</a>
                        
                                <a data-sort="0319" 
                                    href="/archive/?tag=Shell"
                                    title="Shell"
                                    style="color: #337ab7 !important;"
                                    rel="30">Shell</a>
                        
                                <a data-sort="0321" 
                                    href="/archive/?tag=English"
                                    title="English"
                                    style="color: #337ab7 !important;"
                                    rel="28">English</a>
                        
                                <a data-sort="0324" 
                                    href="/archive/?tag=git"
                                    title="git"
                                    style="color: #337ab7 !important;"
                                    rel="25">git</a>
                        
                                <a data-sort="0329" 
                                    href="/archive/?tag=%E6%96%B9%E6%B3%95%E8%AB%96"
                                    title="方法論"
                                    style="color: #337ab7 !important;"
                                    rel="20">方法論</a>
                        
                                <a data-sort="0333" 
                                    href="/archive/?tag=Ubuntu+22.04+LTS"
                                    title="Ubuntu 22.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="16">Ubuntu 22.04 LTS</a>
                        
                                <a data-sort="0337" 
                                    href="/archive/?tag=%E7%B5%B1%E8%A8%88%E6%A4%9C%E5%AE%9A"
                                    title="統計検定"
                                    style="color: #337ab7 !important;"
                                    rel="12">統計検定</a>
                        
                                <a data-sort="0338" 
                                    href="/archive/?tag=%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0"
                                    title="競技プログラミング"
                                    style="color: #337ab7 !important;"
                                    rel="11">競技プログラミング</a>
                        
                                <a data-sort="0339" 
                                    href="/archive/?tag=%E3%83%95%E3%83%BC%E3%83%AA%E3%82%A8%E8%A7%A3%E6%9E%90"
                                    title="フーリエ解析"
                                    style="color: #337ab7 !important;"
                                    rel="10">フーリエ解析</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=%E5%89%8D%E5%87%A6%E7%90%86"
                                    title="前処理"
                                    style="color: #337ab7 !important;"
                                    rel="9">前処理</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=SQL"
                                    title="SQL"
                                    style="color: #337ab7 !important;"
                                    rel="9">SQL</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=coding"
                                    title="coding"
                                    style="color: #337ab7 !important;"
                                    rel="9">coding</a>
                        
                                <a data-sort="0341" 
                                    href="/archive/?tag=%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"
                                    title="コミュニケーション"
                                    style="color: #337ab7 !important;"
                                    rel="8">コミュニケーション</a>
                        
                                <a data-sort="0342" 
                                    href="/archive/?tag=Network"
                                    title="Network"
                                    style="color: #337ab7 !important;"
                                    rel="7">Network</a>
                        
                                <a data-sort="0342" 
                                    href="/archive/?tag=ssh"
                                    title="ssh"
                                    style="color: #337ab7 !important;"
                                    rel="7">ssh</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=%E5%B0%86%E6%A3%8B"
                                    title="将棋"
                                    style="color: #337ab7 !important;"
                                    rel="6">将棋</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Data+visualization"
                                    title="Data visualization"
                                    style="color: #337ab7 !important;"
                                    rel="6">Data visualization</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Docker"
                                    title="Docker"
                                    style="color: #337ab7 !important;"
                                    rel="6">Docker</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Econometrics"
                                    title="Econometrics"
                                    style="color: #337ab7 !important;"
                                    rel="6">Econometrics</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=VSCode"
                                    title="VSCode"
                                    style="color: #337ab7 !important;"
                                    rel="6">VSCode</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=statistical+inference"
                                    title="statistical inference"
                                    style="color: #337ab7 !important;"
                                    rel="6">statistical inference</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=GitHub+Pages"
                                    title="GitHub Pages"
                                    style="color: #337ab7 !important;"
                                    rel="5">GitHub Pages</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=apt"
                                    title="apt"
                                    style="color: #337ab7 !important;"
                                    rel="5">apt</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=development"
                                    title="development"
                                    style="color: #337ab7 !important;"
                                    rel="5">development</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E7%AE%A1%E7%90%86"
                                    title="システム管理"
                                    style="color: #337ab7 !important;"
                                    rel="4">システム管理</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=Coffee"
                                    title="Coffee"
                                    style="color: #337ab7 !important;"
                                    rel="4">Coffee</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=cloud"
                                    title="cloud"
                                    style="color: #337ab7 !important;"
                                    rel="4">cloud</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=%E6%95%B0%E5%80%A4%E8%A8%88%E7%AE%97"
                                    title="数値計算"
                                    style="color: #337ab7 !important;"
                                    rel="3">数値計算</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=%E7%B4%A0%E6%95%B0"
                                    title="素数"
                                    style="color: #337ab7 !important;"
                                    rel="3">素数</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Book"
                                    title="Book"
                                    style="color: #337ab7 !important;"
                                    rel="3">Book</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Font"
                                    title="Font"
                                    style="color: #337ab7 !important;"
                                    rel="3">Font</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Metrics"
                                    title="Metrics"
                                    style="color: #337ab7 !important;"
                                    rel="3">Metrics</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Poetry"
                                    title="Poetry"
                                    style="color: #337ab7 !important;"
                                    rel="3">Poetry</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Ubuntu+24.04+LTS"
                                    title="Ubuntu 24.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="3">Ubuntu 24.04 LTS</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=architecture"
                                    title="architecture"
                                    style="color: #337ab7 !important;"
                                    rel="3">architecture</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=aws"
                                    title="aws"
                                    style="color: #337ab7 !important;"
                                    rel="3">aws</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=shell"
                                    title="shell"
                                    style="color: #337ab7 !important;"
                                    rel="3">shell</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=systemctl"
                                    title="systemctl"
                                    style="color: #337ab7 !important;"
                                    rel="3">systemctl</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88"
                                    title="テンプレート"
                                    style="color: #337ab7 !important;"
                                    rel="2">テンプレート</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0"
                                    title="データ構造"
                                    style="color: #337ab7 !important;"
                                    rel="2">データ構造</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%9D%E3%83%AF%E3%82%BD%E3%83%B3%E5%88%86%E5%B8%83"
                                    title="ポワソン分布"
                                    style="color: #337ab7 !important;"
                                    rel="2">ポワソン分布</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E4%BC%9A%E8%A8%88%E5%88%86%E6%9E%90"
                                    title="会計分析"
                                    style="color: #337ab7 !important;"
                                    rel="2">会計分析</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89"
                                    title="文字コード"
                                    style="color: #337ab7 !important;"
                                    rel="2">文字コード</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89"
                                    title="環境構築"
                                    style="color: #337ab7 !important;"
                                    rel="2">環境構築</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E8%AB%96%E6%96%87"
                                    title="論文"
                                    style="color: #337ab7 !important;"
                                    rel="2">論文</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=App"
                                    title="App"
                                    style="color: #337ab7 !important;"
                                    rel="2">App</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Bayesian"
                                    title="Bayesian"
                                    style="color: #337ab7 !important;"
                                    rel="2">Bayesian</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Dynamic+Programming"
                                    title="Dynamic Programming"
                                    style="color: #337ab7 !important;"
                                    rel="2">Dynamic Programming</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Keyboard"
                                    title="Keyboard"
                                    style="color: #337ab7 !important;"
                                    rel="2">Keyboard</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Processing"
                                    title="Processing"
                                    style="color: #337ab7 !important;"
                                    rel="2">Processing</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=R"
                                    title="R"
                                    style="color: #337ab7 !important;"
                                    rel="2">R</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Steam"
                                    title="Steam"
                                    style="color: #337ab7 !important;"
                                    rel="2">Steam</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=filesystem"
                                    title="filesystem"
                                    style="color: #337ab7 !important;"
                                    rel="2">filesystem</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=quarto"
                                    title="quarto"
                                    style="color: #337ab7 !important;"
                                    rel="2">quarto</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=regex"
                                    title="regex"
                                    style="color: #337ab7 !important;"
                                    rel="2">regex</a>
                    </div>

                <br>

                <b><fontsize="5">Leave a Comment</font><br>(注意：GitHub Accountが必要となります）</b>
                
                <script src="https://utteranc.es/client.js"
                    repo="RyoNakagami/RyoNakagami.github.io"
                    issue-term="url"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>Reduce unused JavaScript
                
                </script>


            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-1 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog fixed" style="margin-top:3%">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CONTENTS</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        
    <!-- Sidebar Container -->
            <!-- <div class="
                col-lg-10 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container row"> -->
                <!-- 
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="https://twitter.com/bluesky0804?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">bluesky0804</a></li>
  
</ul>

 -->
            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->

  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true, // for pseudo
      tags: "ams",
      autoload: {
        color: [],
        colorV2: ['color']
      },
      packages: {'[+]': ['noerrors']}
    },
    chtml: {
      matchFontHeight: false,
      displayAlign: "left",
      displayIndent: "2em"
    },
    options: {
      renderActions: {
        /* add a new named action to render <script type="math/tex"> */
        find_script_mathtex: [10, function (doc) {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/);
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
            const text = document.createTextNode('');
            node.parentNode.replaceChild(text, node);
            math.start = {node: text, delim: '', n: 0};
            math.end = {node: text, delim: '', n: 0};
            doc.math.push(math);
          }
        }, '']
      }
    },
    loader: {
      load: ['[tex]/noerrors']
    }
  };
</script>





<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


<body>
    <!-- enable mermaid language on markdown post -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
<script>
   mermaid.initialize({
       startOnLoad:true,
       theme: 'default'
   });
   window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>

</body>

    <script>
    
    var elements = document.querySelectorAll('p');
    Array.prototype.forEach.call(elements, function(el, i){
        if(el.innerHTML=='[expand]') {
            var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>');
            el.parentNode.innerHTML = parentcontent;
        }
    });

    var elements = document.querySelectorAll('div.expand');
    Array.prototype.forEach.call(elements, function(el, i){
        el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>';
    });

</script>

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <!--<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> -->
                <!-- SNS Link -->
            


<ul class="list-inline text-center">


  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/RyoNakagami">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

            
            <p class="copyright text-muted">
                Copyright &copy; Ryo's Tech Blog 2025
                <br>
                Powered by <a href="https://ryonakagami.github.io">Ryo's Tech Blog</a> |
                <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"
                    height="20px"
                    title="RyoNakagami.github.io github stars"
                    src="https://ghbtns.com/github-btn.html?user=RyoNakagami&repo=RyoNakagami.github.io&type=star&count=true">
                </iframe>
            </p>
            <!--</div> -->
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/ryo-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LVL413SV09"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-LVL413SV09');
</script>



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>



<!-- Image to Github 
<img src="/img/icon_wechat.png" width="0" height="0" />
<-- Migrate from head to bottom, no longer block render and still work -->
<script>
    
    var elements = document.querySelectorAll('p');
    Array.prototype.forEach.call(elements, function(el, i){
        if(el.innerHTML=='[expand]') {
            var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>');
            el.parentNode.innerHTML = parentcontent;
        }
    });

    var elements = document.querySelectorAll('div.expand');
    Array.prototype.forEach.call(elements, function(el, i){
        el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>';
    });

</script>

</body>
</html>
