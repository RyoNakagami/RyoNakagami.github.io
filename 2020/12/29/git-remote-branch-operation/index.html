<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="gSMaswRY9iRfG4QaQrx6aj481bgr503qEZh-QPsMYNU" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="description" content="元経済学徒, 現在どっかでデータサイエンティストもどきやってる人間の勉強日記">
    <meta name="keywords"  content="Statistics, Economics, Econometrics, Python, C, Shell, Linux, Data scientist">
    <meta name="theme-color" content="#000000">
    
    <!-- Open Graph -->
    <meta property="og:title" content="git commandを用いたブランチ操作 - Ryo's Tech Blog">
    
    <meta property="og:type" content="article">
    <meta property="og:description" content="


">
    
    <meta property="article:published_time" content="2020-12-29T00:00:00Z">
    
    
    <meta property="article:author" content="Ryo">
    
    
    <meta property="article:tag" content="git">
    
    
    <meta property="og:image" content="https://ryonakagami.github.io/img/avatar_rio_cat.jpg">
    <meta property="og:url" content="https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/">
    <meta property="og:site_name" content="Ryo's Tech Blog">
    
    <title>git commandを用いたブランチ操作 - Ryo's Tech Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/ryo-blog.min.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- https://stackoverflow.com/questions/45983301/google-pagespeed-eliminate-render-blocking-resources-above-the-fold-caused-fro -->
    <!--link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"-->
    <!--<link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="stylesheet" type="text/css" media="print" onload="this.media='all'" > -->
    <link href="https://fonts.googleapis.com/earlyaccess/notosansjapanese.css" rel="preload" type="text/css" media="print" onload="this.media='all'" >


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->

<nav class="navbar navbar-default navbar-custom navbar-fixed-top invert">
    
        <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Ryo's Tech Blog</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div id="huxblog_navbar">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-left">
                                                <li>
                            <a href="https://ryonakagami.github.io/statistics-for-regression-monkey/">Statistics for
                                Regression Monkeys</a>
                        </li>
                        <li>
                            <a href="https://ohgoshgit.github.io/">OhGoshGit!?!</a>
                        </li>
                        <!-- <li>
                            <a><button onclick="mainDropDown()" style="border-color: rgba(70, 83, 111, 0.989); background-color: rgba(70, 83, 111, 0.989)">Dropdown</button></a> 
                            <div id="myDropdown" class="dropdown-content">
                              <a href="#" onclick="subMenu(this)">A</a>
                              <div class="sub-menu-item" id="subMenu1">
                              <a href="#">A.1</a>
                              </div>
                              <a href="#" onclick="subMenu(this)">B</a>
                              <div class="sub-menu-item" id="subMenu2">
                              <a href="#">B.1</a>
                              </div>
                              <a href="#">C</a>
                              <a href="#">D</a>
                              <a href="#">E</a>
                              <a href="#">F</a>
                              <a href="#">G</a>
                            </div>
                        </li> -->
                    </ul>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        
                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                        
                        
                        <li>
                            <a href="/archive/">Tag Search</a>
                        </li>
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!--about fa-search see https://stackoverflow.com/questions/41950677/how-to-make-my-search-icon-fixed-->
                        <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
                            rel="stylesheet" />
                        <li class="search-icon">
                            <a href="javascript:void(0)" aria-label="Search" target="_blank">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>

    <script>
        // Drop Bootstarp low-performance Navbar
        // Use customize navbar with high-quality material design animation
        // in high-perf jank-free CSS3 implementation
        var $body = document.body;
        var $toggle = document.querySelector('.navbar-toggle');
        var $navbar = document.querySelector('#huxblog_navbar');
        var $collapse = document.querySelector('.navbar-collapse');

        var __HuxNav__ = {
            close: function () {
                $navbar.className = " ";
                // wait until animation end.
                setTimeout(function () {
                    // prevent frequently toggle
                    if ($navbar.className.indexOf('in') < 0) {
                        $collapse.style.height = "0px"
                    }
                }, 400)
            },
            open: function () {
                $collapse.style.height = "auto"
                $navbar.className += " in";
            }
        }

        // Bind Event
        $toggle.addEventListener('click', function (e) {
            if ($navbar.className.indexOf('in') > 0) {
                __HuxNav__.close()
            } else {
                __HuxNav__.open()
            }
        })

        /**
         * Since Fastclick is used to delegate 'touchstart' globally
         * to hack 300ms delay in iOS by performing a fake 'click',
         * Using 'e.stopPropagation' to stop 'touchstart' event from 
         * $toggle/$collapse will break global delegation.
         * 
         * Instead, we use a 'e.target' filter to prevent handler
         * added to document close HuxNav.  
         *
         * Also, we use 'click' instead of 'touchstart' as compromise
         */
        document.addEventListener('click', function (e) {
            if (e.target == $toggle) return;
            if (e.target.className == 'icon-bar') return;
            __HuxNav__.close();
        })
    </script>

    <!-- Search -->
<div class="search-page">
  <div class="search-icon-close-container">
    <span class="search-icon-close">
      <i class="fa fa-chevron-down"></i>
    </span>
  </div>
  <div class="search-main container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <form></form>
        <input type="text" id="search-input" placeholder="$ grep...">
        </form>
        <div id="search-results" class="mini-post-list"></div>
      </div>
    </div>
  </div>
</div>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/home-bg.jpg" width="0" height="0"> -->

<!-- Post Header -->



<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg.jpg');
        background: ;
    }

    
    header.intro-header .header-mask{
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, 0.0);
    }
    
</style>




<header class="intro-header style-text" >

    <div class="header-mask"></div>
    
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/archive/?tag=git" title="git">git</a>
                        
                    </div>
                    <h1>git commandを用いたブランチ操作</h1>
                    
                    <h2 class="subheading">How to use git command 1/N</h2>
                    <p>
                        公開日: 2020-12-29
                        <br>
                        更新日: 2024-07-11
                        
                    </p>
                </div>
            </div>
        </div>
    </div>
</header>







<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
         <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- Multi-Lingual -->
                

				<div style="border-radius: 1em; border-style:solid; border-color:#D3D3D3; background-color:#F8F8F8">

  <p class="h4">  Table of Contents</p>

  <!-- START doctoc generated TOC please keep comment here to allow auto update -->
  <!-- DON'T EDIT THIS SECTION, INSTEAD RE-RUN doctoc TO UPDATE -->

  <ul>
    <li><a href="#local-branch-operation">Local Branch Operation</a>
      <ul>
        <li><a href="#list-up-repository-branches">List up Repository Branches</a></li>
        <li><a href="#list-up-branches-with-the-last-updatetime">List up Branches with the last updatetime</a></li>
        <li><a href="#switchcreate-branch-locally">Switch/Create Branch Locally</a></li>
        <li><a href="#create-a-new-branch-locally-from-a-specified-branch">Create a New Branch Locally from a Specified Branch</a></li>
        <li><a href="#rename-a-local-branch-name">Rename a Local Branch Name</a></li>
        <li><a href="#delete-a-local-branch">Delete a Local Branch</a></li>
        <li><a href="#restore-a-branch-after-its-deletion-in-git">Restore a branch after its deletion in Git</a></li>
        <li><a href="#check-the-upstream-branch">Check the Upstream Branch</a></li>
        <li><a href="#set-up-an-upstream-branch-to-a-local-branch">Set up an upstream branch to a local branch</a></li>
        <li><a href="#check-the-nearest-branch">Check the Nearest Branch</a></li>
      </ul>
    </li>
    <li><a href="#local-branch-operation-compare-and-merge">Local Branch Operation: Compare and Merge</a>
      <ul>
        <li><a href="#compare-the-current-branch-with-the-selected-branches">Compare the current branch with the Selected Branches</a></li>
        <li><a href="#undo-a-merge-commit">Undo a Merge Commit</a></li>
      </ul>
    </li>
    <li><a href="#remote-branch-operation">Remote Branch Operation</a>
      <ul>
        <li><a href="#getswitch-to-a-remote-branch-git-switch-version">Get/Switch to a remote branch: <code class="language-plaintext highlighter-rouge">git switch</code> version</a></li>
        <li><a href="#getswitch-to-a-remote-branch-git-fetch-version">Get/Switch to a remote branch: <code class="language-plaintext highlighter-rouge">git fetch</code> version</a></li>
        <li><a href="#delete-remote-branch">Delete Remote Branch</a></li>
        <li><a href="#refresh-the-list-of-remote-branches">Refresh the list of remote branches</a></li>
        <li><a href="#rename-remote-branch">Rename Remote Branch</a></li>
      </ul>
    </li>
    <li><a href="#remote-branch-operation-git-clone">Remote Branch Operation: <code class="language-plaintext highlighter-rouge">git clone</code></a>
      <ul>
        <li><a href="#git-clone-to-a-specified-folder">git clone to a specified folder</a></li>
        <li><a href="#git-clone-a-specified-branch-only">git clone a specified branch only</a></li>
        <li><a href="#install-private-python-packages-via-git-clone">Install Private Python Packages via git clone</a></li>
      </ul>
    </li>
    <li><a href="#references">References</a></li>
  </ul>

  <!-- END doctoc generated TOC please keep comment here to allow auto update -->

</div>

<h2 id="local-branch-operation">Local Branch Operation</h2>
<h3 id="list-up-repository-branches">List up Repository Branches</h3>

<p><strong> ▶  Local Branch一覧の取得</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>% git branch
  develop
  feature_add_cross_validation
<span class="k">*</span> feature_add_visualize_module
  main
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  Remote Branch一覧の表示</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">origin/HEAD</code>は <code class="language-plaintext highlighter-rouge">clone</code> した後に作業ディレクトリにチェックアウトするブランチを示したもの</li>
  <li><code class="language-plaintext highlighter-rouge">git clone</code>後のGitHub のデフォルトのブランチの最新位置に基本的に出現する</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>% git branch -r
  origin/HEAD -&gt; origin/main
  origin/develop
  origin/add_cross_validation
  origin/add_visualize_module
  origin/main
  origin/project/ad_hoc_analysis
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  Local/Remote Branch一覧の表示</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-a</span>
  develop
  feature_add_cross_validation
<span class="k">*</span> feature_add_visualize_module
  main
  origin/HEAD -&gt; origin/main
  origin/develop
  origin/add_cross_validation
  origin/add_visualize_module
  origin/main
  origin
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="list-up-branches-with-the-last-updatetime">List up Branches with the last updatetime</h3>

<ul>
  <li>branchをcommit-baseの更新日時順（最新が上）で表示する</li>
  <li><code class="language-plaintext highlighter-rouge">git branch</code>のoptionが利用可能とする</li>
</ul>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">--sort</span><span class="o">=</span><span class="nt">-committerdate</span> <span class="nt">--format</span><span class="o">=</span><span class="s1">'%(refname:short)%09%(committername)%09%(objectname:short)%09%(committerdate:iso-strict)'</span> | <span class="nb">tr</span> <span class="s1">'\t'</span> <span class="s1">'|'</span>| column <span class="nt">-s</span> <span class="s1">'|'</span> <span class="nt">-t</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>formatについては<a href="https://git-scm.com/docs/git-for-each-ref">git-for-each-ref</a>と同様なものが使用可能です.</p>

<table>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--sort=-committerdate</code></td>
      <td>branchをcommit更新順(最新が上)にsortする</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">--sort=committerdate</code></td>
      <td>branchをcommit更新順（最新が下）にsortする</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">%(objectname:short)</code></td>
      <td>commit-hashをshortで表示, defaultはlong</td>
    </tr>
  </tbody>
</table>

<p>なお, <code class="language-plaintext highlighter-rouge">.gitconfig</code>にて引数optionが使用可能にするため, 以下のようにalias指定をしている:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>[alias]
    branch-update = "!f(){ git branch --sort=-committerdate --format='%(refname:short)%09%(committername)%09%(objectname:short)%09%(committerdate:iso-strict)' $1| tr '\t' '|'| column -s '|' -t;};f"
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="switchcreate-branch-locally">Switch/Create Branch Locally</h3>

<ul>
  <li>ブランチ移動は<code class="language-plaintext highlighter-rouge">git switch</code>コマンドを用いる</li>
  <li><code class="language-plaintext highlighter-rouge">git checkout</code>でも可能だが, 公式は <code class="language-plaintext highlighter-rouge">git switch</code> 推奨</li>
  <li>ブランチ作成 &amp; 移動したい場合は <code class="language-plaintext highlighter-rouge">-c</code> オプションを加える</li>
</ul>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>% git switch existing_branch
Switched to branch <span class="s1">'existing_branch'</span>
% git switch <span class="nt">-c</span> non_existing_branch
Switched to a new branch <span class="s1">'non_existing_branch'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  作成されていないブランチを指定しまった場合</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git switch <span class="nb">test
</span>fatal: invalid reference: <span class="nb">test</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  作成済みのブランチ名を指定して<code class="language-plaintext highlighter-rouge">git switch -c</code>の場合</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git switch <span class="nt">-c</span> non_existing_branch
fatal: a branch named <span class="s1">'non_existing_branch'</span> already exists
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="create-a-new-branch-locally-from-a-specified-branch">Create a New Branch Locally from a Specified Branch</h3>

<p><strong> ▶  Syntax</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git switch <span class="nt">-c</span> &lt;new branch&gt; &lt;rerefence branch&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;rerefence branch&gt;</code>はremote branchも指定可能</li>
</ul>

<p><strong> ▶  Example</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>% git switch <span class="nt">-c</span> foo2 foo
Switched to a new branch <span class="s1">'foo2'</span>
% git switch <span class="nt">-c</span> hoge2 origin/hoge
branch <span class="s1">'hoge2'</span> <span class="nb">set </span>up to track <span class="s1">'origin/hoge'</span><span class="nb">.</span>
Switched to a new branch <span class="s1">'hoge2'</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rename-a-local-branch-name">Rename a Local Branch Name</h3>

<p><code class="language-plaintext highlighter-rouge">git branch</code>コマンドと <code class="language-plaintext highlighter-rouge">-m</code> オプションを用いてブランチ名を変更することが出来ます.</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-m</span> &lt;new_branch_name&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="delete-a-local-branch">Delete a Local Branch</h3>

<ul>
  <li>Upstream branchに編集記録が最新版までmergeされているローカルブランチを消去する場合に使用可能</li>
</ul>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">--delete</span> non-existing-branch
Deleted branch non-existing-branch <span class="o">(</span>was 1d6ed41<span class="o">)</span><span class="nb">.</span>
% git branch <span class="nt">-d</span> &lt;branch&gt; 
Deleted branch &lt;branch&gt; <span class="o">(</span>was 1d6ed42<span class="o">)</span><span class="nb">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>複数の場合は</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">--delete</span> &lt;branch&gt; &lt;branch&gt; &lt;branch&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>upstream branchにmergeされていない場合は次のようなエラーが返ってくる</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-d</span> hoge
error: The branch <span class="s1">'hoge'</span> is not fully merged.
If you are sure you want to delete it, run <span class="s1">'git branch -D hoge'</span><span class="nb">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>強制的に消去したい場合は</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-D</span> hoge
Deleted branch hoge <span class="o">(</span>was eb79802<span class="o">)</span><span class="nb">.</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="restore-a-branch-after-its-deletion-in-git">Restore a branch after its deletion in Git</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>誤って削除してしまったbranchをlocalで復旧させたい</li>
  <li>branchを削除してから別ブランチですでに作業を開始してしまっている状況を考える</li>
  <li>復元後も, 昔の作業履歴が確認できるようにしたい</li>
</ul>

<p><strong> ▶  How to Solve the problem</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">git reflog</code>は, すでに消去された履歴自体も確認できるコマンド</li>
  <li><code class="language-plaintext highlighter-rouge">git reflog</code>で消去してしまったbranchからcheckoutした<code class="language-plaintext highlighter-rouge">commit-hash</code></li>
  <li>上記で取得した<code class="language-plaintext highlighter-rouge">commit-hash</code>を参照する形で<code class="language-plaintext highlighter-rouge">git switch -c</code>を実行</li>
</ul>

<p><strong> ▶  Example</strong></p>

<p><code class="language-plaintext highlighter-rouge">non_existing_branch</code>というbranchを消去してしまったあと, <code class="language-plaintext highlighter-rouge">main</code> branchで作業を開始してし
まった状況を考えます.</p>

<p><code class="language-plaintext highlighter-rouge">main</code> branchへ移動した直後に<code class="language-plaintext highlighter-rouge">non_existing_branch</code>を消去してしまいます.</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git switch main
% git branch <span class="nt">--delete</span> non_existing_branch
</pre></td></tr></tbody></table></code></pre></div></div>

<p>消去したあと, <code class="language-plaintext highlighter-rouge">main</code> branchで適当に作業します</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>% <span class="nb">touch </span>hoge.txt
% <span class="nb">echo </span>unkounko <span class="o">&gt;</span> hoge.txt
% git add hoge.txt
% git commit <span class="nt">-m</span> <span class="s2">"DOC: Add hoge.txt about the family secret"</span>
% git push
</pre></td></tr></tbody></table></code></pre></div></div>

<p>このタイミングで, ``non_existing_branch<code class="language-plaintext highlighter-rouge">を消去するのはやばかったと発覚しました.
慌てずに, </code>git reflog`コマンドでブランチ消去直前のcommit-hashを確認します.</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>% git reflog
c65bac9 <span class="o">(</span>HEAD -&gt; main, origin/main<span class="o">)</span> HEAD@<span class="o">{</span>0<span class="o">}</span>: commit: DOC: Add hoge.txt about the family secret
9fb60c5 HEAD@<span class="o">{</span>1<span class="o">}</span>: checkout: moving from non_existing_branch to main
</pre></td></tr></tbody></table></code></pre></div></div>

<p>checkoutタイミングの履歴が<code class="language-plaintext highlighter-rouge">9fb60c5</code>で残っていることがわかります. 
なお, このcommit-hashは<code class="language-plaintext highlighter-rouge">git log</code>では確認できません( = <code class="language-plaintext highlighter-rouge">git reflog</code>と<code class="language-plaintext highlighter-rouge">git log</code>の違い)</p>

<p>最後にこのcommit-hashを用いて, branchを復元します.</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git switch <span class="nt">-c</span> non_existing_branch 9fb60c5
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="check-the-upstream-branch">Check the Upstream Branch</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>local repositoryとupstream branchの対応関係を知りたい</li>
</ul>

<p><strong> ▶  How</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-vv</span>
branch_A            214c991 <span class="o">[</span>origin/branch_A: ahead 1, behind 3] FIX readme
  branch_B            a387619 <span class="o">[</span>origin/non_existing_branch] add yml
  hoge                f5663c5 <span class="o">[</span>origin/hoge] hoge <span class="nb">test</span>
<span class="k">*</span> hoge2               4a1e30f Update hoge2.txt
  hoge3               376ef7c <span class="o">[</span>origin/hoeg3: gone] add hoge
  main                16a340c <span class="o">[</span>origin/main] a
  non_existing_branch a387619 <span class="o">[</span>origin/non_existing_branch] add yml
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>対応していないブランチ(上では<code class="language-plaintext highlighter-rouge">hoge2</code>)では <code class="language-plaintext highlighter-rouge">[origin/&lt;remote branch name&gt;]</code>が出力されない</li>
</ul>

<h3 id="set-up-an-upstream-branch-to-a-local-branch">Set up an upstream branch to a local branch</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>upstream branchが設定されていないlocal branchに対して, upstream branchを指定したい</li>
</ul>

<p><strong> ▶  How</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-u</span> &lt;remote branch&gt;
% git branch &lt;<span class="nb">local </span>branch&gt; <span class="nt">-u</span> &lt;remote branch&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;local branch&gt;</code>を省略した場合は, 現在のbranchに対してupstream branchを設定する</li>
</ul>

<h3 id="check-the-nearest-branch">Check the Nearest Branch</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>カレントブランチの派生元ブランチ名を取得する</li>
  <li>Merge後は, 直近のMerge元を派生元ブランチとして参照する</li>
</ul>

<p><strong> ▶  Setup</strong></p>

<p><code class="language-plaintext highlighter-rouge">.gitconfig</code>ファイルにてエイリアスを以下のように設定</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="o">[</span><span class="nb">alias</span><span class="o">]</span>
	nearest <span class="o">=</span> <span class="s2">"!git show-branch  -a| grep '*' | grep -v </span><span class="sb">`</span>git rev-parse <span class="nt">--abbrev-ref</span> HEAD<span class="sb">`</span><span class="s2">| head -n1| sed 's/.*</span><span class="se">\\</span><span class="s2">[</span><span class="se">\\</span><span class="s2">(.*</span><span class="se">\\</span><span class="s2">)</span><span class="se">\\</span><span class="s2">].*/</span><span class="se">\\</span><span class="s2">1/'| sed 's/[</span><span class="se">\\</span><span class="s2">^~].*//' #"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!</code>はシェルコマンドを入力しますよ, という指示語</li>
</ul>

<p><strong> ▶  How to Use it</strong></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">develop</code>ブランチから派生した<code class="language-plaintext highlighter-rouge">feature_model</code>ブランチに現在いるとする</li>
  <li><code class="language-plaintext highlighter-rouge">feature_model</code>ブランチの派生元ブランチとして<code class="language-plaintext highlighter-rouge">develop</code>ブランチ名が出力されてほしい</li>
</ul>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>% git branch
  develop
  feature_cv
<span class="k">*</span> feature_model
  main
% git nearest
develop
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="local-branch-operation-compare-and-merge">Local Branch Operation: Compare and Merge</h2>
<h3 id="compare-the-current-branch-with-the-selected-branches">Compare the current branch with the Selected Branches</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>選択したブランチと比較した時, conflictを引き起こすファイル及び差分箇所を確認したい</li>
  <li>コマンド実行中に, ファイルの編集も実現可能</li>
</ul>

<p><strong> ▶  Requirements</strong></p>

<p><code class="language-plaintext highlighter-rouge">.gitconfig</code>に以下のラインを追記</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>[diff]
	tool = vscode
[difftool "vscode"]
	cmd = code --wait --diff $LOCAL $REMOTE
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  How</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git difftool &lt;the selected branch&gt; &lt;path&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>左側にthe selected branch, 右側にthe current branchのファイルが表示される</li>
  <li>the current branchのファイルは編集 &amp; 保存が可能</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;path&gt;</code>指定時は, その対象ファイルのみの差分を表示</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;path&gt;</code>を指定しなかった場合は, 差分全てを表示</li>
</ul>

<h3 id="undo-a-merge-commit">Undo a Merge Commit</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>merge commitを取り消す</li>
</ul>

<p><strong> ▶  How</strong></p>

<p>merge commitを取り消すには2つの方法があります:</p>

<table>
  <thead>
    <tr>
      <th>方針</th>
      <th>効果</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">git reset --merge</code></td>
      <td>Branch Historyを強制的に書き換える(= merge commitの痕跡を履歴から消す)</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">git revert</code></td>
      <td>merge変更自体は打ち消すが, merge commitの履歴は残る</td>
    </tr>
  </tbody>
</table>

<p>本来mergeされるべきではなかったbranchがmergeされたときに実施するundoなので, 基本的には
<code class="language-plaintext highlighter-rouge">git reset --merge</code>を用いることが良いと考えています. 実際に, <a href="https://github.com/git/git/blob/master/Documentation/howto/revert-a-faulty-merge.txt#L62-L78">Linus</a>も次のように言っています:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre>Reverting a regular commit just effectively undoes what that commit did, and is fairly straightforward. 
But reverting a merge commit also undoes the _data_ that the commit changed, 
but it does absolutely nothing to the effects on _history_ that the merge had.

So the merge will still exist, and it will still be seen as joining the two 
branches together, and future merges will see that merge as the last shared 
state – and the revert that reverted the merge brought in will not affect that at all.

So a "revert" undoes the data changes, but it's very much not an "undo" in the 
sense that it doesn't undo the effects of a commit on the repository history.

So if you think of "revert" as "undo", then you're going to always miss this 
part of reverts. Yes, it undoes the data, but no, it doesn't undo history.
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  How to do <code class="language-plaintext highlighter-rouge">git reset --merge</code> in order to undo the merge</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git reset <span class="nt">--merge</span> &lt;commit-hash&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">git reset –merge</code>はtracked filesに加えられたuncommitedな変更についての情報を残してくれるため,
全てを参照地点までの情報まで戻してしまう<code class="language-plaintext highlighter-rouge">git reset --hard</code>に対してsafer versionと一般的に言われています.</p>

<p>documentを確認してみると,</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre></td><td class="rouge-code"><pre>--hard    Matches the working tree and index to that of the tree being
               switched  to. Any changes to tracked files in the working tree since
               &lt;commit&gt; are lost.

--merge
              Resets the index to match the tree recorded by the named commit, and
              updates the files that are different between the named commit and
              the current commit in the working tree.
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  Check the difference between <code class="language-plaintext highlighter-rouge">--hard</code> and <code class="language-plaintext highlighter-rouge">--marge</code></strong></p>

<p><code class="language-plaintext highlighter-rouge">--hard</code> と <code class="language-plaintext highlighter-rouge">--marge</code>はtracked fileのuncommittedな変更について情報を残すか残さないかの違いです.
それを確認するため以下の状況を作ります:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">main</code>と<code class="language-plaintext highlighter-rouge">merge_test</code>の2つのbranch</li>
  <li><code class="language-plaintext highlighter-rouge">main</code>へ<code class="language-plaintext highlighter-rouge">merge_test</code>をmergeする前に、tracked-fileの<code class="language-plaintext highlighter-rouge">README.md</code>に「good bye」という文字列を加える</li>
  <li>good byeをstashしてから, <code class="language-plaintext highlighter-rouge">merge_test</code>で適当に作業, <code class="language-plaintext highlighter-rouge">main</code>へ戻る</li>
  <li>good byeをstashからpopしてから<code class="language-plaintext highlighter-rouge">merge_test</code>を<code class="language-plaintext highlighter-rouge">main</code>へmerge</li>
</ol>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre>% <span class="nb">mkdir test</span>
% <span class="nb">cd</span> ./test
% git init
% <span class="nb">touch </span>README.md
% git commit <span class="nt">-m</span> <span class="s2">"initial commit"</span>
% git switch <span class="nt">-c</span> merge_test
% <span class="nb">touch </span>merge_log.txt
% <span class="nb">echo test</span> <span class="o">&gt;</span> merge_log.txt
% git add merge_log.tx
% git commit <span class="nt">-m</span> <span class="s2">"DOC: Additing merge_log"</span>
% git switch main
% <span class="nb">echo </span>hello world <span class="o">&gt;</span> README.md
% git add README.md
% git commit <span class="nt">-m</span> <span class="s2">"DOC: updating README"</span>
% <span class="nb">echo </span>good bye <span class="o">&gt;&gt;</span> README.md
% git stash
% git switch merge_test
% <span class="nb">echo</span> <span class="s1">'hope this line will disappear'</span>
% <span class="nb">echo</span> <span class="s1">'hope this line will disappear'</span> <span class="o">&gt;</span> merge_log.txt
% git add merge_log.txt
% git commit <span class="nt">-m</span> <span class="s2">"DOC: updating merge_log"</span>
% git switch main
% git stash pop
% git merge merge_test
</pre></td></tr></tbody></table></code></pre></div></div>

<p>このとき, <code class="language-plaintext highlighter-rouge">--hard</code> と <code class="language-plaintext highlighter-rouge">--marge</code>で以下のような挙動の違いが発生します:</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c">## stashされたgood byeは残る</span>
% git reset <span class="nt">--merge</span> ORIG_HEAD

<span class="c">## stashされたgood byeが消える</span>
% git reset <span class="nt">--hard</span> ORIG_HEAD
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="remote-branch-operation">Remote Branch Operation</h2>
<h3 id="getswitch-to-a-remote-branch-git-switch-version">Get/Switch to a remote branch: <code class="language-plaintext highlighter-rouge">git switch</code> version</h3>

<p><strong> ▶  What I Want to Do</strong></p>

<ul>
  <li>リモートブランチ(<code class="language-plaintext highlighter-rouge">project/adhoc_analysis</code>)をローカルにチェックアウトしたい</li>
</ul>

<p><strong> ▶  How</strong></p>

<ol>
  <li>リモートの追跡ブランチを更新</li>
  <li><code class="language-plaintext highlighter-rouge">git switch</code> (リモート側にすでにブランチが存在するので<code class="language-plaintext highlighter-rouge">-c</code>は必要なし)</li>
</ol>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>% git branch <span class="nt">-r</span>
  origin/HEAD -&gt; origin/main
  origin/develop
  origin/add_cross_validation
  origin/add_visualize_module
  origin/main
  origin/project/ad_hoc_analysis
% git fetch <span class="nt">--all</span>
% git switch project/adhoc_analysis
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  REMARKS</strong></p>

<ul>
  <li>内部的にLocal側に新しくリモートと同じブランチ名のブランチが作成, からのswitchとなる</li>
</ul>

<h3 id="getswitch-to-a-remote-branch-git-fetch-version">Get/Switch to a remote branch: <code class="language-plaintext highlighter-rouge">git fetch</code> version</h3>

<p><strong> ▶  What I Want to Do</strong></p>

<ul>
  <li>リモートブランチ(<code class="language-plaintext highlighter-rouge">project/adhoc_analysis</code>)をローカルにbranch nameを指定して取り込みたい</li>
</ul>

<p><strong> ▶  How</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git fetch &lt;remote&gt; &lt;remote-branchname&gt;:&lt;local-branchname&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="delete-remote-branch">Delete Remote Branch</h3>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre>% git push &lt;remote&gt; <span class="nt">--delete</span> &lt;branch&gt;
<span class="c">## 同義</span>
% git push &lt;remote&gt; :&lt;old_branch_name&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li>コロン(=<code class="language-plaintext highlighter-rouge">:</code>)の前に何も指定しないことで,「空」をpushするという挙動になる</li>
</ul>

<p><strong> ▶  複数の場合</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git push origin <span class="nt">--delete</span> &lt;branch1&gt; &lt;branch2&gt; &lt;branch3&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="refresh-the-list-of-remote-branches">Refresh the list of remote branches</h3>

<p><strong> ▶  What I Want</strong></p>

<ul>
  <li>To update the local list of remote branches</li>
</ul>

<p><strong> ▶  How: remote updateで実施する場合</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git remote update origin <span class="nt">--prune</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  How: fetchで実施する場合(推奨)</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git fetch <span class="nt">-p</span> 
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="rename-remote-branch">Rename Remote Branch</h3>

<p><strong> ▶  Syntax</strong></p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git switch <span class="nt">-c</span> &lt;new_branch_name&gt; &lt;old_branch_name&gt;
% git push &lt;remote&gt; :&lt;old_branch_name&gt; &lt;new_branch_name&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong> ▶  REMARKS</strong></p>

<ul>
  <li>branchのrenameというよりかは, ローカルで別名で作った同一内容ブランチをremoteへ反映し直すという挙動</li>
  <li>remote branchの消去と新しいbranchのpushを同時に実施しているだけ</li>
</ul>

<h2 id="remote-branch-operation-git-clone">Remote Branch Operation: <code class="language-plaintext highlighter-rouge">git clone</code></h2>
<h3 id="git-clone-to-a-specified-folder">git clone to a specified folder</h3>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git clone &lt;repo&gt; &lt;directory&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;repo&gt;</code>: リポジトリURL</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;directory&gt;</code>: レポジトリ内容を格納するローカル上の空フォルダ
    <ul>
      <li>事前に空フォルダを作成する必要はない</li>
      <li>パスには絶対パス, 相対パスどちらでも指定可能</li>
    </ul>
  </li>
</ul>

<p><strong> ▶  REMARKS</strong></p>

<p><code class="language-plaintext highlighter-rouge">directory</code>を中身の入ったフォルダを指定すると以下のようなerrorが返ってくる:</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre>% git clone hogehoge pokochin
fatal: destination path <span class="s1">'pokochin'</span> already exists and is not an empty directory.
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="git-clone-a-specified-branch-only">git clone a specified branch only</h3>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git clone <span class="nt">-b</span> &lt;branch&gt; &lt;repo&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">&lt;branch&gt;</code>: branch name</li>
  <li><code class="language-plaintext highlighter-rouge">&lt;repo&gt;</code>: リポジトリURL</li>
  <li><code class="language-plaintext highlighter-rouge">-b</code> は <code class="language-plaintext highlighter-rouge">--branch</code> optionのこと</li>
</ul>

<h3 id="install-private-python-packages-via-git-clone">Install Private Python Packages via git clone</h3>

<ul>
  <li>
    <branch-name>: installしたいversionを指定
</branch-name>
  </li>
  <li>
    <folder-name>: レポジトリのローカルにおける保存先

</folder-name>
  </li>
</ul>
<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% git clone <span class="nt">-b</span> &lt;branch-name&gt; &lt;repository url&gt; &lt;local-folder-path&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Then, pip経由の場合は編集可能性を考慮して <code class="language-plaintext highlighter-rouge">-e</code> オプションを付与してインストール</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% pip <span class="nb">install</span> <span class="nt">-e</span> &lt;folder-name&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<p>Poetry経由の場合は</p>

<div class="language-zsh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre>% poetry add <span class="nt">--editable</span> &lt;folder-name&gt;
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="references">References</h2>

<p><strong> ▶  git config</strong></p>

<ul>
  <li><a href="https://stackoverflow.com/questions/19525387/pipes-in-a-git-alias">Stackoverflow &gt; Pipes in a Git alias?</a></li>
</ul>

<p><strong> ▶  git sparse checkout</strong></p>

<ul>
  <li><a href="https://ryonakagami.github.io/2021/04/19/how-to-git-pull-subdirectory/">Ryo’s Tech Blog &gt; GitHub Repositoryの任意のサブディレクトリのみをローカル側で取得する</a></li>
</ul>

<p><strong> ▶  git branch operation tips</strong></p>

<ul>
  <li><a href="https://stackoverflow.com/questions/58124219/how-can-i-use-the-new-git-switch-syntax-to-create-a-new-branch">stackoverflow &gt; How can I use the new <code class="language-plaintext highlighter-rouge">git switch</code> syntax to create a new branch?</a></li>
  <li><a href="https://stackoverflow.com/questions/3640764/can-i-recover-a-branch-after-its-deletion-in-git">stackoverflow &gt; Can I recover a branch after its deletion in Git?</a></li>
  <li><a href="https://github.com/git/git/blob/master/Documentation/howto/revert-a-faulty-merge.txt#L62-L78">git documentation &gt; Linus explains the revert and the reset</a></li>
</ul>


                <hr style="visibility: hidden;">
                <hr/>
                <b><fontsize="5">Share Buttons</font><br></b>
                <!--see 
    https://jekyllcodex.org/without-plugin/share-buttons/ 
    https://ranvir.xyz/blog/why-and-how-to-add-social-sharing-buttons-on-your-jekyll-blog-using-github-pages/
-->



<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
    position: relative;
    text-align: left; 
    height: 36px; 
    width: 32px; 
    float: left; 
    text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span style="color: black">Share on: </span><div id="share-buttons">
    <div class="facebook" title="Share this on Facebook" onclick="gtag('event', 'Facebook', {'event_category':'Post Shared','event_label':'Facebook'}); location.href='http://www.facebook.com/share.php?u=https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
    <div class="twitter" title="Share this on Twitter" onclick="gtag('event', 'Twitter', {'event_category':'Post Shared','event_label':'Twitter'}); location.href='https://twitter.com/intent/tweet?text=git commandを用いたブランチ操作&url=https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
    <div class="linkedin" title="Share this on Linkedin" onclick="gtag('event', 'Linkedin', {'event_category':'Post Shared','event_label':'Linkedin'}); location.href='https://www.linkedin.com/shareArticle?mini=true&url=https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/&title=&summary=&source=';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
    
    <div class="mail" title="Share this through Email" onclick="gtag('event', 'Email', {'event_category':'Post Shared','event_label':'Email'}); location.href='mailto:?&body=https://ryonakagami.github.io/2020/12/29/git-remote-branch-operation/';"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>

                
                <hr/>

                <!-- Featured Tags -->
                <b><fontsize="5">Feature Tags</b>
                    <div id="tag_cloud" class="tags tags-sup js-tags" 
                    style="line-height: 0px !important;">
                        
                        
                        
                        
                        
                                <a data-sort="0288" 
                                    href="/archive/?tag=%E7%B5%B1%E8%A8%88"
                                    title="統計"
                                    style="color: #337ab7 !important;"
                                    rel="61">統計</a>
                        
                                <a data-sort="0298" 
                                    href="/archive/?tag=Python"
                                    title="Python"
                                    style="color: #337ab7 !important;"
                                    rel="51">Python</a>
                        
                                <a data-sort="0300" 
                                    href="/archive/?tag=math"
                                    title="math"
                                    style="color: #337ab7 !important;"
                                    rel="49">math</a>
                        
                                <a data-sort="0303" 
                                    href="/archive/?tag=Linux"
                                    title="Linux"
                                    style="color: #337ab7 !important;"
                                    rel="46">Linux</a>
                        
                                <a data-sort="0316" 
                                    href="/archive/?tag=Ubuntu+20.04+LTS"
                                    title="Ubuntu 20.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="33">Ubuntu 20.04 LTS</a>
                        
                                <a data-sort="0319" 
                                    href="/archive/?tag=Shell"
                                    title="Shell"
                                    style="color: #337ab7 !important;"
                                    rel="30">Shell</a>
                        
                                <a data-sort="0321" 
                                    href="/archive/?tag=English"
                                    title="English"
                                    style="color: #337ab7 !important;"
                                    rel="28">English</a>
                        
                                <a data-sort="0324" 
                                    href="/archive/?tag=git"
                                    title="git"
                                    style="color: #337ab7 !important;"
                                    rel="25">git</a>
                        
                                <a data-sort="0329" 
                                    href="/archive/?tag=%E6%96%B9%E6%B3%95%E8%AB%96"
                                    title="方法論"
                                    style="color: #337ab7 !important;"
                                    rel="20">方法論</a>
                        
                                <a data-sort="0333" 
                                    href="/archive/?tag=Ubuntu+22.04+LTS"
                                    title="Ubuntu 22.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="16">Ubuntu 22.04 LTS</a>
                        
                                <a data-sort="0337" 
                                    href="/archive/?tag=%E7%B5%B1%E8%A8%88%E6%A4%9C%E5%AE%9A"
                                    title="統計検定"
                                    style="color: #337ab7 !important;"
                                    rel="12">統計検定</a>
                        
                                <a data-sort="0338" 
                                    href="/archive/?tag=%E7%AB%B6%E6%8A%80%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0"
                                    title="競技プログラミング"
                                    style="color: #337ab7 !important;"
                                    rel="11">競技プログラミング</a>
                        
                                <a data-sort="0339" 
                                    href="/archive/?tag=%E3%83%95%E3%83%BC%E3%83%AA%E3%82%A8%E8%A7%A3%E6%9E%90"
                                    title="フーリエ解析"
                                    style="color: #337ab7 !important;"
                                    rel="10">フーリエ解析</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=%E5%89%8D%E5%87%A6%E7%90%86"
                                    title="前処理"
                                    style="color: #337ab7 !important;"
                                    rel="9">前処理</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=SQL"
                                    title="SQL"
                                    style="color: #337ab7 !important;"
                                    rel="9">SQL</a>
                        
                                <a data-sort="0340" 
                                    href="/archive/?tag=coding"
                                    title="coding"
                                    style="color: #337ab7 !important;"
                                    rel="9">coding</a>
                        
                                <a data-sort="0341" 
                                    href="/archive/?tag=%E3%82%B3%E3%83%9F%E3%83%A5%E3%83%8B%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3"
                                    title="コミュニケーション"
                                    style="color: #337ab7 !important;"
                                    rel="8">コミュニケーション</a>
                        
                                <a data-sort="0342" 
                                    href="/archive/?tag=Network"
                                    title="Network"
                                    style="color: #337ab7 !important;"
                                    rel="7">Network</a>
                        
                                <a data-sort="0342" 
                                    href="/archive/?tag=ssh"
                                    title="ssh"
                                    style="color: #337ab7 !important;"
                                    rel="7">ssh</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=%E5%B0%86%E6%A3%8B"
                                    title="将棋"
                                    style="color: #337ab7 !important;"
                                    rel="6">将棋</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Data+visualization"
                                    title="Data visualization"
                                    style="color: #337ab7 !important;"
                                    rel="6">Data visualization</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Docker"
                                    title="Docker"
                                    style="color: #337ab7 !important;"
                                    rel="6">Docker</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=Econometrics"
                                    title="Econometrics"
                                    style="color: #337ab7 !important;"
                                    rel="6">Econometrics</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=VSCode"
                                    title="VSCode"
                                    style="color: #337ab7 !important;"
                                    rel="6">VSCode</a>
                        
                                <a data-sort="0343" 
                                    href="/archive/?tag=statistical+inference"
                                    title="statistical inference"
                                    style="color: #337ab7 !important;"
                                    rel="6">statistical inference</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=GitHub+Pages"
                                    title="GitHub Pages"
                                    style="color: #337ab7 !important;"
                                    rel="5">GitHub Pages</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=apt"
                                    title="apt"
                                    style="color: #337ab7 !important;"
                                    rel="5">apt</a>
                        
                                <a data-sort="0344" 
                                    href="/archive/?tag=development"
                                    title="development"
                                    style="color: #337ab7 !important;"
                                    rel="5">development</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0%E7%AE%A1%E7%90%86"
                                    title="システム管理"
                                    style="color: #337ab7 !important;"
                                    rel="4">システム管理</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=Coffee"
                                    title="Coffee"
                                    style="color: #337ab7 !important;"
                                    rel="4">Coffee</a>
                        
                                <a data-sort="0345" 
                                    href="/archive/?tag=cloud"
                                    title="cloud"
                                    style="color: #337ab7 !important;"
                                    rel="4">cloud</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=%E6%95%B0%E5%80%A4%E8%A8%88%E7%AE%97"
                                    title="数値計算"
                                    style="color: #337ab7 !important;"
                                    rel="3">数値計算</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=%E7%B4%A0%E6%95%B0"
                                    title="素数"
                                    style="color: #337ab7 !important;"
                                    rel="3">素数</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Book"
                                    title="Book"
                                    style="color: #337ab7 !important;"
                                    rel="3">Book</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Font"
                                    title="Font"
                                    style="color: #337ab7 !important;"
                                    rel="3">Font</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Metrics"
                                    title="Metrics"
                                    style="color: #337ab7 !important;"
                                    rel="3">Metrics</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Poetry"
                                    title="Poetry"
                                    style="color: #337ab7 !important;"
                                    rel="3">Poetry</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=Ubuntu+24.04+LTS"
                                    title="Ubuntu 24.04 LTS"
                                    style="color: #337ab7 !important;"
                                    rel="3">Ubuntu 24.04 LTS</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=architecture"
                                    title="architecture"
                                    style="color: #337ab7 !important;"
                                    rel="3">architecture</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=aws"
                                    title="aws"
                                    style="color: #337ab7 !important;"
                                    rel="3">aws</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=shell"
                                    title="shell"
                                    style="color: #337ab7 !important;"
                                    rel="3">shell</a>
                        
                                <a data-sort="0346" 
                                    href="/archive/?tag=systemctl"
                                    title="systemctl"
                                    style="color: #337ab7 !important;"
                                    rel="3">systemctl</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%86%E3%83%B3%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88"
                                    title="テンプレート"
                                    style="color: #337ab7 !important;"
                                    rel="2">テンプレート</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%87%E3%83%BC%E3%82%BF%E6%A7%8B%E9%80%A0"
                                    title="データ構造"
                                    style="color: #337ab7 !important;"
                                    rel="2">データ構造</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E3%83%9D%E3%83%AF%E3%82%BD%E3%83%B3%E5%88%86%E5%B8%83"
                                    title="ポワソン分布"
                                    style="color: #337ab7 !important;"
                                    rel="2">ポワソン分布</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E4%BC%9A%E8%A8%88%E5%88%86%E6%9E%90"
                                    title="会計分析"
                                    style="color: #337ab7 !important;"
                                    rel="2">会計分析</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E6%96%87%E5%AD%97%E3%82%B3%E3%83%BC%E3%83%89"
                                    title="文字コード"
                                    style="color: #337ab7 !important;"
                                    rel="2">文字コード</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E7%92%B0%E5%A2%83%E6%A7%8B%E7%AF%89"
                                    title="環境構築"
                                    style="color: #337ab7 !important;"
                                    rel="2">環境構築</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=%E8%AB%96%E6%96%87"
                                    title="論文"
                                    style="color: #337ab7 !important;"
                                    rel="2">論文</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=App"
                                    title="App"
                                    style="color: #337ab7 !important;"
                                    rel="2">App</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Bayesian"
                                    title="Bayesian"
                                    style="color: #337ab7 !important;"
                                    rel="2">Bayesian</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Dynamic+Programming"
                                    title="Dynamic Programming"
                                    style="color: #337ab7 !important;"
                                    rel="2">Dynamic Programming</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Keyboard"
                                    title="Keyboard"
                                    style="color: #337ab7 !important;"
                                    rel="2">Keyboard</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Processing"
                                    title="Processing"
                                    style="color: #337ab7 !important;"
                                    rel="2">Processing</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=R"
                                    title="R"
                                    style="color: #337ab7 !important;"
                                    rel="2">R</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=Steam"
                                    title="Steam"
                                    style="color: #337ab7 !important;"
                                    rel="2">Steam</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=filesystem"
                                    title="filesystem"
                                    style="color: #337ab7 !important;"
                                    rel="2">filesystem</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=quarto"
                                    title="quarto"
                                    style="color: #337ab7 !important;"
                                    rel="2">quarto</a>
                        
                                <a data-sort="0347" 
                                    href="/archive/?tag=regex"
                                    title="regex"
                                    style="color: #337ab7 !important;"
                                    rel="2">regex</a>
                    </div>

                <br>

                <b><fontsize="5">Leave a Comment</font><br>(注意：GitHub Accountが必要となります）</b>
                
                <script src="https://utteranc.es/client.js"
                    repo="RyoNakagami/RyoNakagami.github.io"
                    issue-term="url"
                    theme="github-light"
                    crossorigin="anonymous"
                    async>Reduce unused JavaScript
                
                </script>


            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-1 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog fixed" style="margin-top:3%">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CONTENTS</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        
    <!-- Sidebar Container -->
            <!-- <div class="
                col-lg-10 col-lg-offset-1
                col-md-10 col-md-offset-1
                sidebar-container row"> -->
                <!-- 
<hr>
<h5>FRIENDS</h5>
<ul class="list-inline">
  
  <li><a href="https://twitter.com/bluesky0804?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor">bluesky0804</a></li>
  
</ul>

 -->
            </div>
        </div>
    </div>
</article>

<!-- add support for mathjax by voleking-->

  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" id="MathJax-script"></script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true, // for pseudo
      tags: "ams",
      autoload: {
        color: [],
        colorV2: ['color']
      },
      packages: {'[+]': ['noerrors']}
    },
    chtml: {
      matchFontHeight: false,
      displayAlign: "left",
      displayIndent: "2em"
    },
    options: {
      renderActions: {
        /* add a new named action to render <script type="math/tex"> */
        find_script_mathtex: [10, function (doc) {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/);
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
            const text = document.createTextNode('');
            node.parentNode.replaceChild(text, node);
            math.start = {node: text, delim: '', n: 0};
            math.end = {node: text, delim: '', n: 0};
            doc.math.push(math);
          }
        }, '']
      }
    },
    loader: {
      load: ['[tex]/noerrors']
    }
  };
</script>





<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'hover',
          placement: 'right',
          // icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


<body>
    <!-- enable mermaid language on markdown post -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.6.1/mermaid.min.js"></script>
<script>
   mermaid.initialize({
       startOnLoad:true,
       theme: 'default'
   });
   window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>

</body>

    <script>
    
    var elements = document.querySelectorAll('p');
    Array.prototype.forEach.call(elements, function(el, i){
        if(el.innerHTML=='[expand]') {
            var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>');
            el.parentNode.innerHTML = parentcontent;
        }
    });

    var elements = document.querySelectorAll('div.expand');
    Array.prototype.forEach.call(elements, function(el, i){
        el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>';
    });

</script>

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <!--<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"> -->
                <!-- SNS Link -->
            


<ul class="list-inline text-center">


  
  
  
  
  <li>
    <a target="_blank" href="https://github.com/RyoNakagami">
      <span class="fa-stack fa-lg">
        <i class="fa fa-circle fa-stack-2x"></i>
        <i class="fa fa-github fa-stack-1x fa-inverse"></i>
      </span>
    </a>
  </li>
  
  
</ul>

            
            <p class="copyright text-muted">
                Copyright &copy; Ryo's Tech Blog 2025
                <br>
                Powered by <a href="https://ryonakagami.github.io">Ryo's Tech Blog</a> |
                <iframe style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0" width="100px"
                    height="20px"
                    title="RyoNakagami.github.io github stars"
                    src="https://ghbtns.com/github-btn.html?user=RyoNakagami&repo=RyoNakagami.github.io&type=star&count=true">
                </iframe>
            </p>
            <!--</div> -->
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<!-- Currently, only navbar scroll-down effect at desktop still depends on this -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/ryo-blog.min.js "></script>

<!-- Simple Jekyll Search -->
<script src="/js/simple-jekyll-search.min.js"></script>

<!-- Service Worker -->

<script src="/js/snackbar.js "></script>
<script src="/js/sw-registration.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--
     Because of the native support for backtick-style fenced code blocks
     right within the Markdown is landed in Github Pages,
     From V1.6, There is no need for Highlight.js,
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->







<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-LVL413SV09"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-LVL413SV09');
</script>



<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog(selector) {

        // interop with multilangual 
        if ('' == 'true') {
            _containerSelector = 'div.post-container.active'
        } else {
            _containerSelector = 'div.post-container'
        }

        // init
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        // clean
        $(selector).html('')

        // appending
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>



<!-- Multi-Lingual -->


<!-- Simple Jekyll Search -->
<script>
    // https://stackoverflow.com/questions/1912501/unescape-html-entities-in-javascript
    function htmlDecode(input) {
        var e = document.createElement('textarea');
        e.innerHTML = input;
        // handle case of empty input
        return e.childNodes.length === 0 ? "" : e.childNodes[0].nodeValue;
    }

    SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('search-results'),
        json: '/search.json',
        searchResultTemplate: '<div class="post-preview item"><a href="{url}"><h2 class="post-title">{title}</h2><h3 class="post-subtitle">{subtitle}</h3><hr></a></div>',
        noResultsText: 'No results',
        limit: 50,
        fuzzy: false,
        // a hack to get escaped subtitle unescaped. for some reason, 
        // post.subtitle w/o escape filter nuke entire search.
        templateMiddleware: function (prop, value, template) {
            if (prop === 'subtitle' || prop === 'title') {
                if (value.indexOf("code")) {
                    return htmlDecode(value);
                } else {
                    return value;
                }
            }
        }
    });

    $(document).ready(function () {
        var $searchPage = $('.search-page');
        var $searchOpen = $('.search-icon');
        var $searchClose = $('.search-icon-close');
        var $searchInput = $('#search-input');
        var $body = $('body');

        $searchOpen.on('click', function (e) {
            e.preventDefault();
            $searchPage.toggleClass('search-active');
            var prevClasses = $body.attr('class') || '';
            setTimeout(function () {
                $body.addClass('no-scroll');
            }, 400)

            if ($searchPage.hasClass('search-active')) {
                $searchClose.on('click', function (e) {
                    e.preventDefault();
                    $searchPage.removeClass('search-active');
                    $body.attr('class', prevClasses);  // from closure 
                });
                $searchInput.focus();
            }
        });
    });
</script>



<!-- Image to Github 
<img src="/img/icon_wechat.png" width="0" height="0" />
<-- Migrate from head to bottom, no longer block render and still work -->
<script>
    
    var elements = document.querySelectorAll('p');
    Array.prototype.forEach.call(elements, function(el, i){
        if(el.innerHTML=='[expand]') {
            var parentcontent = el.parentNode.innerHTML.replace('<p>[expand]</p>','<div class="expand" style="display: none; height: 0; overflow: hidden;">').replace('<p>[/expand]</p>','</div>');
            el.parentNode.innerHTML = parentcontent;
        }
    });

    var elements = document.querySelectorAll('div.expand');
    Array.prototype.forEach.call(elements, function(el, i){
        el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '<span>..&nbsp; <a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';">read&nbsp;more&nbsp;&rarr;</a></span>';
    });

</script>

</body>
</html>
